<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>H3TM Tour Rename UX Enhancement - Test Cases</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n            line-height: 1.6;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background: #f1f1f1;\n        }\n        .test-section {\n            background: #fff;\n            margin: 20px 0;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        }\n        .test-case {\n            margin: 15px 0;\n            padding: 15px;\n            border-left: 4px solid #2271b1;\n            background: #f9f9f9;\n        }\n        .test-case.critical {\n            border-left-color: #d63638;\n        }\n        .test-case.accessibility {\n            border-left-color: #00a32a;\n        }\n        .checklist {\n            list-style: none;\n            padding: 0;\n        }\n        .checklist li {\n            margin: 8px 0;\n            padding-left: 30px;\n            position: relative;\n        }\n        .checklist li::before {\n            content: \"☐\";\n            position: absolute;\n            left: 0;\n            font-size: 18px;\n            color: #666;\n        }\n        .checklist li.checked::before {\n            content: \"☑\";\n            color: #00a32a;\n        }\n        code {\n            background: #f3f4f6;\n            padding: 2px 6px;\n            border-radius: 4px;\n            font-family: Consolas, Monaco, monospace;\n            font-size: 13px;\n        }\n        .error-example {\n            background: #fcf0f1;\n            border: 1px solid #f0b2b5;\n            padding: 12px;\n            border-radius: 4px;\n            margin: 10px 0;\n        }\n        .success-example {\n            background: #f0f6fc;\n            border: 1px solid #b6e3ff;\n            padding: 12px;\n            border-radius: 4px;\n            margin: 10px 0;\n        }\n        .warning {\n            background: #fff8e1;\n            border: 1px solid #ffd54f;\n            padding: 12px;\n            border-radius: 4px;\n            margin: 15px 0;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 15px 0;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border: 1px solid #ddd;\n        }\n        th {\n            background: #f5f5f5;\n            font-weight: 600;\n        }\n        .browser-matrix {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 15px;\n            margin: 20px 0;\n        }\n        .browser-card {\n            padding: 15px;\n            background: #f9f9f9;\n            border-radius: 6px;\n            text-align: center;\n        }\n        .status-pass { color: #00a32a; font-weight: bold; }\n        .status-fail { color: #d63638; font-weight: bold; }\n        .status-pending { color: #f56e00; font-weight: bold; }\n    </style>\n</head>\n<body>\n    <h1>H3TM Tour Rename UX Enhancement - Test Cases</h1>\n    <p>Comprehensive testing protocol for the enhanced tour rename functionality. Use this checklist to verify all features work correctly across different scenarios.</p>\n\n    <div class=\"warning\">\n        <strong>Testing Environment Setup:</strong><br>\n        1. Deploy enhanced <code>assets/js/admin.js</code> and <code>assets/css/admin.css</code><br>\n        2. Clear browser cache and WordPress caching plugins<br>\n        3. Test in WordPress admin tours management page<br>\n        4. Have test tours available for rename operations\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Critical Bug Fixes Verification</h2>\n        <div class=\"test-case critical\">\n            <h3>1. Fix \"undefined error popup\" (Line 291)</h3>\n            <p><strong>Issue:</strong> <code>alert('Error: ' + response.data);</code> showing \"undefined\"</p>\n            <ul class=\"checklist\">\n                <li>Create scenario where backend returns <code>wp_send_json_error('Test message')</code></li>\n                <li>Verify error shows \"Test message\" not \"undefined\"</li>\n                <li>Test with empty response data</li>\n                <li>Test with object response data</li>\n                <li>Verify no JavaScript console errors</li>\n            </ul>\n            <div class=\"error-example\">\n                <strong>Before:</strong> Alert shows \"Error: undefined\"<br>\n                <strong>After:</strong> Shows proper error message or fallback \"An unknown error occurred.\"\n            </div>\n        </div>\n\n        <div class=\"test-case critical\">\n            <h3>2. Modal Dialog Replaces prompt()</h3>\n            <ul class=\"checklist\">\n                <li>Click rename button → Modal appears (no browser prompt)</li>\n                <li>Modal contains tour name in title</li>\n                <li>Input field pre-filled with current tour name</li>\n                <li>Cancel button closes modal</li>\n                <li>Escape key closes modal</li>\n                <li>Submit with Enter key works</li>\n            </ul>\n        </div>\n\n        <div class=\"test-case critical\">\n            <h3>3. Progress Indication for Long Operations</h3>\n            <ul class=\"checklist\">\n                <li>Modal closes when rename starts</li>\n                <li>Progress overlay appears with spinner</li>\n                <li>Message shows \"Renaming tour...\"</li>\n                <li>Details text shows \"This may take a moment...\"</li>\n                <li>Progress persists for duration of operation</li>\n                <li>Progress disappears when complete</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Form Validation Tests</h2>\n        <div class=\"test-case\">\n            <h3>Client-Side Validation</h3>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Test Input</th>\n                        <th>Expected Error</th>\n                        <th>Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Empty string</td>\n                        <td>\"Tour name is required.\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                    <tr>\n                        <td>Same as original</td>\n                        <td>\"Please enter a different name.\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                    <tr>\n                        <td>Single character \"a\"</td>\n                        <td>\"Tour name must be at least 2 characters long.\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                    <tr>\n                        <td>256+ characters</td>\n                        <td>\"Tour name is too long (maximum 255 characters).\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                    <tr>\n                        <td>\"test@#$%\"</td>\n                        <td>\"Tour name contains invalid characters.\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                    <tr>\n                        <td>\"con\" (reserved)</td>\n                        <td>\"This name is reserved and cannot be used.\"</td>\n                        <td class=\"status-pending\">Pending</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Error Handling Scenarios</h2>\n        <div class=\"test-case\">\n            <h3>Network & Server Errors</h3>\n            <ul class=\"checklist\">\n                <li><strong>Network Timeout:</strong> Disconnect network during rename</li>\n                <li><strong>Server Error:</strong> Trigger 500 error on backend</li>\n                <li><strong>Permission Denied:</strong> Test with non-admin user</li>\n                <li><strong>Tour Not Found:</strong> Delete tour while dialog open</li>\n                <li><strong>Name Conflict:</strong> Create duplicate name on server</li>\n                <li><strong>Disk Space:</strong> Test with insufficient disk space</li>\n            </ul>\n\n            <h4>Expected Error Messages:</h4>\n            <ul>\n                <li>Timeout: \"The rename operation timed out. The tour may still be processing...\"</li>\n                <li>Network: \"Network error. Please check your connection and try again.\"</li>\n                <li>Server: \"Server error. Please try again or contact support.\"</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>User Experience Tests</h2>\n        <div class=\"test-case\">\n            <h3>Success Flow</h3>\n            <ul class=\"checklist\">\n                <li>Complete successful rename</li>\n                <li>Progress overlay shows and hides properly</li>\n                <li>Success message appears as WordPress notice</li>\n                <li>Table row updates with new name</li>\n                <li>URL updates correctly</li>\n                <li>Data attributes update</li>\n                <li>Row highlights briefly (visual feedback)</li>\n                <li>Optional page reload prompt appears</li>\n            </ul>\n        </div>\n\n        <div class=\"test-case\">\n            <h3>UI Integration</h3>\n            <ul class=\"checklist\">\n                <li>Modal matches WordPress admin theme</li>\n                <li>Buttons use WordPress styling</li>\n                <li>Notice integrates with WordPress notice system</li>\n                <li>Focus management works properly</li>\n                <li>Loading states don't interfere with other UI</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Accessibility Tests</h2>\n        <div class=\"test-case accessibility\">\n            <h3>WCAG Compliance</h3>\n            <ul class=\"checklist\">\n                <li><strong>Keyboard Navigation:</strong> Tab through all modal elements</li>\n                <li><strong>Focus Management:</strong> Focus moves to input, returns properly</li>\n                <li><strong>Screen Reader:</strong> Test with NVDA/JAWS</li>\n                <li><strong>ARIA Labels:</strong> Modal has proper aria-labelledby/describedby</li>\n                <li><strong>Live Regions:</strong> Error messages announced</li>\n                <li><strong>Color Contrast:</strong> All text meets contrast ratios</li>\n                <li><strong>High Contrast Mode:</strong> Test in Windows high contrast</li>\n                <li><strong>Reduced Motion:</strong> Test with prefers-reduced-motion</li>\n            </ul>\n\n            <h4>Keyboard Shortcuts:</h4>\n            <ul>\n                <li><code>Tab</code> - Navigate forward</li>\n                <li><code>Shift+Tab</code> - Navigate backward</li>\n                <li><code>Enter</code> - Submit form</li>\n                <li><code>Escape</code> - Close modal</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Browser Compatibility</h2>\n        <div class=\"browser-matrix\">\n            <div class=\"browser-card\">\n                <h4>Chrome 90+</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>Modern features, full support</small>\n            </div>\n            <div class=\"browser-card\">\n                <h4>Firefox 85+</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>Modern features, full support</small>\n            </div>\n            <div class=\"browser-card\">\n                <h4>Safari 14+</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>Webkit compatibility</small>\n            </div>\n            <div class=\"browser-card\">\n                <h4>Edge 90+</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>Chromium-based Edge</small>\n            </div>\n            <div class=\"browser-card\">\n                <h4>IE11</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>Fallback support</small>\n            </div>\n            <div class=\"browser-card\">\n                <h4>Mobile Safari</h4>\n                <div class=\"status-pending\">Pending</div>\n                <small>iOS 12+ compatibility</small>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Responsive Design Tests</h2>\n        <div class=\"test-case\">\n            <h3>Screen Sizes</h3>\n            <ul class=\"checklist\">\n                <li><strong>Desktop (1200px+):</strong> Full modal width, side-by-side buttons</li>\n                <li><strong>Tablet (768-1199px):</strong> Responsive modal, adjusted padding</li>\n                <li><strong>Mobile (320-767px):</strong> Full-width modal, stacked buttons</li>\n                <li><strong>Small Mobile (320px):</strong> Minimum viable layout</li>\n            </ul>\n\n            <h4>Touch Device Testing:</h4>\n            <ul class=\"checklist\">\n                <li>Touch targets are minimum 44px</li>\n                <li>Buttons respond to touch properly</li>\n                <li>Modal can be dismissed on mobile</li>\n                <li>Input field works with virtual keyboard</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Performance Tests</h2>\n        <div class=\"test-case\">\n            <h3>Load Performance</h3>\n            <ul class=\"checklist\">\n                <li>JavaScript loads without errors</li>\n                <li>CSS renders without flash of unstyled content</li>\n                <li>Modal appears within 200ms of click</li>\n                <li>Animations are smooth (60fps)</li>\n                <li>Memory usage stable (no leaks)</li>\n            </ul>\n\n            <h4>Network Performance:</h4>\n            <ul class=\"checklist\">\n                <li>Rename works on slow connections (3G)</li>\n                <li>Progress indication helps users wait</li>\n                <li>Timeout handling prevents hanging</li>\n                <li>Error recovery works for network issues</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Edge Cases & Stress Tests</h2>\n        <div class=\"test-case\">\n            <h3>Unusual Scenarios</h3>\n            <ul class=\"checklist\">\n                <li><strong>Very Long Names:</strong> Test 200+ character tour names</li>\n                <li><strong>Special Characters:</strong> Unicode, emojis in existing names</li>\n                <li><strong>Multiple Renames:</strong> Rapid successive rename attempts</li>\n                <li><strong>Page Navigation:</strong> Navigate away during rename operation</li>\n                <li><strong>Browser Refresh:</strong> Refresh page during rename</li>\n                <li><strong>Multiple Tabs:</strong> Same admin page in multiple tabs</li>\n                <li><strong>Concurrent Users:</strong> Two users renaming same tour</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>Integration Tests</h2>\n        <div class=\"test-case\">\n            <h3>WordPress Integration</h3>\n            <ul class=\"checklist\">\n                <li>Works with WordPress caching plugins</li>\n                <li>Integrates with WordPress notice system</li>\n                <li>Respects WordPress user permissions</li>\n                <li>Works with WordPress multisite</li>\n                <li>Compatible with common admin themes</li>\n                <li>No conflicts with other plugins</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"success-example\">\n        <h3>Testing Complete - Deployment Checklist</h3>\n        <ul class=\"checklist\">\n            <li>All critical bug fixes verified</li>\n            <li>Form validation working correctly</li>\n            <li>Error handling comprehensive</li>\n            <li>Accessibility requirements met</li>\n            <li>Cross-browser compatibility confirmed</li>\n            <li>Responsive design tested</li>\n            <li>Performance acceptable</li>\n            <li>Edge cases handled</li>\n            <li>WordPress integration verified</li>\n        </ul>\n    </div>\n\n    <div class=\"warning\">\n        <strong>Post-Deployment Monitoring:</strong><br>\n        1. Monitor WordPress error logs for JavaScript errors<br>\n        2. Check user feedback for any UX issues<br>\n        3. Verify rename operations complete successfully<br>\n        4. Monitor server performance during large tour renames<br>\n        5. Test with different WordPress themes and plugins\n    </div>\n\n    <script>\n        // Simple testing helper - click to toggle checkboxes\n        document.addEventListener('DOMContentLoaded', function() {\n            const checklistItems = document.querySelectorAll('.checklist li');\n            \n            checklistItems.forEach(item => {\n                item.style.cursor = 'pointer';\n                item.addEventListener('click', function() {\n                    this.classList.toggle('checked');\n                });\n            });\n        });\n    </script>\n</body>\n</html>